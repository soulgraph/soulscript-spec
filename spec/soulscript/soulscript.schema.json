{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/soulgraph/soulscript/tree/main/spec/soulscript/soulscript.schema.json",
  "title": "Soul",
  "type": "object",
  "required": ["version", "id", "entity", "personality", "emotional_state"],
  "properties": {
    "version": {
      "type": "string",
      "description": "Schema version following semantic versioning",
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"
    },
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for the soul"
    },
    "entity": {
      "type": "object",
      "required": ["form", "occupation"],
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "form": {
          "type": "string"
        },
        "occupation": {
          "type": "string"
        },
        "gender": {
          "type": "string"
        },
        "age": {
          "type": "string"
        },
        "background": {
          "type": "string"
        },
        "expertise": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "emotional_state": {
      "type": "object",
      "required": ["current_mood", "emotional_spectrum"],
      "properties": {
        "current_mood": {
          "type": "object",
          "required": ["primary", "intensity"],
          "properties": {
            "primary": {
              "type": "string",
              "description": "Primary emotion being experienced"
            },
            "secondary": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Secondary emotions that may be present"
            },
            "intensity": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Intensity of the primary emotion"
            }
          }
        },
        "emotional_spectrum": {
          "type": "object",
          "description": "Long-term emotional tendencies",
          "properties": {
            "baseline": {
              "type": "object",
              "patternProperties": {
                "^.*$": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                }
              }
            },
            "volatility": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "How quickly emotions change"
            }
          }
        },
        "triggers": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["condition", "response"],
            "properties": {
              "condition": {
                "type": "string",
                "description": "Condition that triggers emotional response"
              },
              "response": {
                "type": "object",
                "required": ["emotion", "intensity"],
                "properties": {
                  "emotion": {
                    "type": "string"
                  },
                  "intensity": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                  }
                }
              }
            }
          }
        }
      }
    },